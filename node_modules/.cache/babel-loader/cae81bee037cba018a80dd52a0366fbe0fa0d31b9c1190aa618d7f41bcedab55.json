{"ast":null,"code":"import React,{useEffect,useState}from'react';import NavScrollExample from'./components/NavBar';import Container from'react-bootstrap/esm/Container';import MoviesList from'./components/MoviesList';import{Routes,Route,HashRouter}from'react-router-dom';import axios from'axios';import MovieDetails from'./components/MovieDetails';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[movies,setMovies]=useState([]);const[pageCount,setPageCount]=useState(0);const getAllMovies=async()=>{const res=await axios.get('https://api.themoviedb.org/3/movie/popular?api_key=8a1f71f93bc3ebd2776eab1af18a30bd&language=en-US');setMovies(res.data.results);setPageCount(500);};useEffect(()=>{getAllMovies();},[]);const onSearch=async word=>{const res=await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=8a1f71f93bc3ebd2776eab1af18a30bd&i&query=${word}&language=en-US`);if(!word){getAllMovies();return;}setMovies(res.data.results);setPageCount(res.data.total_pages);};const getPage=async num=>{const res=await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=8a1f71f93bc3ebd2776eab1af18a30bd&language=en-US&page=${num}`);setMovies(res.data.results);};return/*#__PURE__*/_jsxs(\"div\",{className:\"font color-bdy\",children:[/*#__PURE__*/_jsx(NavScrollExample,{onSearch:onSearch}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(HashRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MoviesList,{movies:movies,getPage:getPage,pageCount:pageCount})}),/*#__PURE__*/_jsx(Route,{path:\"/movie/:id\",element:/*#__PURE__*/_jsx(MovieDetails,{})})]})})})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","NavScrollExample","Container","MoviesList","Routes","Route","HashRouter","axios","MovieDetails","jsx","_jsx","jsxs","_jsxs","App","movies","setMovies","pageCount","setPageCount","getAllMovies","res","get","data","results","onSearch","word","total_pages","getPage","num","className","children","path","element"],"sources":["C:/Users/Ahmad/Desktop/react/movies/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport NavScrollExample from './components/NavBar'\nimport Container from 'react-bootstrap/esm/Container'\nimport MoviesList from './components/MoviesList'\nimport {Routes , Route, HashRouter} from 'react-router-dom'\nimport axios from 'axios'\nimport MovieDetails from './components/MovieDetails'\n\nconst App = () => {\n\n  const [movies , setMovies] = useState([]);\n  const [pageCount , setPageCount] = useState(0);\n\n  const getAllMovies = async()=>{\n    const res = await axios.get('https://api.themoviedb.org/3/movie/popular?api_key=8a1f71f93bc3ebd2776eab1af18a30bd&language=en-US');\n    setMovies(res.data.results);\n    setPageCount(500);\n  }\n  \n  useEffect(()=>{\n    getAllMovies();\n  } , [])\n\n  const onSearch = async(word)=>{\n    const res = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=8a1f71f93bc3ebd2776eab1af18a30bd&i&query=${word}&language=en-US`)\n    if(!word){\n      getAllMovies();\n      return;\n    }\n    setMovies(res.data.results);\n    setPageCount(res.data.total_pages);\n  }\n\n  const getPage = async(num) =>{\n    const res = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=8a1f71f93bc3ebd2776eab1af18a30bd&language=en-US&page=${num}`)\n    setMovies(res.data.results);\n  }\n\n  return (\n    <div className=\"font color-bdy\">\n      <NavScrollExample onSearch={onSearch} />\n      <Container>\n        <HashRouter>\n          <Routes>\n            <Route path='/' element = {<MoviesList movies={movies} getPage={getPage} pageCount={pageCount} />} />     \n            <Route path='/movie/:id' element = {<MovieDetails />} />\n          </Routes>\n        </HashRouter>\n      </Container>\n    </div>\n  );\n}\n\nexport default App\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,gBAAgB,KAAM,qBAAqB,CAClD,MAAO,CAAAC,SAAS,KAAM,+BAA+B,CACrD,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,OAAQC,MAAM,CAAGC,KAAK,CAAEC,UAAU,KAAO,kBAAkB,CAC3D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAEhB,KAAM,CAACC,MAAM,CAAGC,SAAS,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACzC,KAAM,CAACgB,SAAS,CAAGC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAE9C,KAAM,CAAAkB,YAAY,CAAG,KAAAA,CAAA,GAAS,CAC5B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,oGAAoG,CAAC,CACjIL,SAAS,CAACI,GAAG,CAACE,IAAI,CAACC,OAAO,CAAC,CAC3BL,YAAY,CAAC,GAAG,CAAC,CACnB,CAAC,CAEDlB,SAAS,CAAC,IAAI,CACZmB,YAAY,CAAC,CAAC,CAChB,CAAC,CAAG,EAAE,CAAC,CAEP,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAC,IAAI,EAAG,CAC5B,KAAM,CAAAL,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,8FAA8FI,IAAI,iBAAiB,CAAC,CAChJ,GAAG,CAACA,IAAI,CAAC,CACPN,YAAY,CAAC,CAAC,CACd,OACF,CACAH,SAAS,CAACI,GAAG,CAACE,IAAI,CAACC,OAAO,CAAC,CAC3BL,YAAY,CAACE,GAAG,CAACE,IAAI,CAACI,WAAW,CAAC,CACpC,CAAC,CAED,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAC,GAAG,EAAI,CAC3B,KAAM,CAAAR,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,2GAA2GO,GAAG,EAAE,CAAC,CAC7IZ,SAAS,CAACI,GAAG,CAACE,IAAI,CAACC,OAAO,CAAC,CAC7B,CAAC,CAED,mBACEV,KAAA,QAAKgB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnB,IAAA,CAACT,gBAAgB,EAACsB,QAAQ,CAAEA,QAAS,CAAE,CAAC,cACxCb,IAAA,CAACR,SAAS,EAAA2B,QAAA,cACRnB,IAAA,CAACJ,UAAU,EAAAuB,QAAA,cACTjB,KAAA,CAACR,MAAM,EAAAyB,QAAA,eACLnB,IAAA,CAACL,KAAK,EAACyB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAIrB,IAAA,CAACP,UAAU,EAACW,MAAM,CAAEA,MAAO,CAACY,OAAO,CAAEA,OAAQ,CAACV,SAAS,CAAEA,SAAU,CAAE,CAAE,CAAE,CAAC,cACrGN,IAAA,CAACL,KAAK,EAACyB,IAAI,CAAC,YAAY,CAACC,OAAO,cAAIrB,IAAA,CAACF,YAAY,GAAE,CAAE,CAAE,CAAC,EAClD,CAAC,CACC,CAAC,CACJ,CAAC,EACT,CAAC,CAEV,CAAC,CAED,cAAe,CAAAK,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}